{"version":3,"file":"delete-sql-modal-DC0t2rFb.js","sources":["../../src/components/delete-sql-modal.ts"],"sourcesContent":["/**\n * DeleteSqlModal component\n * Shows SQL deletion statements and allows copying\n */\n\nimport { LitElement, html, css } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { sharedStyles } from '../styles/shared-styles';\nimport { formatBytes, copyToClipboard } from '../services/formatters';\nimport type { DeleteModalData } from '../types';\n\n@customElement('delete-sql-modal')\nexport class DeleteSqlModal extends LitElement {\n  @property({ type: Object }) data: DeleteModalData | null = null;\n  @property({ type: String }) sql = '';\n  @property({ type: Number }) storageSaved = 0;\n  @state() private copyButtonText = 'Copy to Clipboard';\n\n  static styles = [\n    sharedStyles,\n    css`\n      .sql-container {\n        background: var(--secondary-background-color);\n        padding: 16px;\n        border-radius: 4px;\n        font-family: 'Courier New', monospace;\n        font-size: 13px;\n        overflow-x: auto;\n        white-space: pre-wrap;\n        word-wrap: break-word;\n        margin: 16px 0;\n      }\n\n      .warning {\n        background: rgba(255, 152, 0, 0.1);\n        border-left: 4px solid var(--warning-color, #FF9800);\n        padding: 12px;\n        margin-bottom: 16px;\n        border-radius: 4px;\n      }\n\n      .info-grid {\n        display: grid;\n        grid-template-columns: auto 1fr;\n        gap: 8px 16px;\n        margin-bottom: 16px;\n      }\n\n      .info-label {\n        font-weight: 500;\n        color: var(--secondary-text-color);\n      }\n\n      .info-value {\n        color: var(--primary-text-color);\n      }\n\n      .copy-button {\n        width: 100%;\n        margin-top: 8px;\n      }\n\n      .copy-button.copied {\n        background: var(--success-color, #4CAF50);\n      }\n    `\n  ];\n\n  private handleClose() {\n    this.dispatchEvent(new CustomEvent('close-modal', {\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  private async handleCopy() {\n    try {\n      await copyToClipboard(this.sql);\n      this.copyButtonText = '✓ Copied!';\n      setTimeout(() => {\n        this.copyButtonText = 'Copy to Clipboard';\n      }, 2000);\n    } catch (error) {\n      this.copyButtonText = '✗ Failed to copy';\n      setTimeout(() => {\n        this.copyButtonText = 'Copy to Clipboard';\n      }, 2000);\n    }\n  }\n\n  render() {\n    if (!this.data) return html``;\n\n    return html`\n      <div class=\"modal-overlay\" @click=${this.handleClose}>\n        <div class=\"modal-content\" @click=${(e: Event) => e.stopPropagation()} style=\"max-width: 700px;\">\n          <div class=\"modal-header\">\n            <h2>Remove Entity: ${this.data.entityId}</h2>\n            <button class=\"modal-close\" @click=${this.handleClose}>&times;</button>\n          </div>\n\n          <div class=\"modal-body\">\n            <div class=\"warning\">\n              <strong>⚠️ Warning:</strong> This action will permanently delete statistics data from your database.\n              Always backup your database before performing deletions!\n            </div>\n\n            <div class=\"info-grid\">\n              <span class=\"info-label\">Entity ID:</span>\n              <span class=\"info-value\">${this.data.entityId}</span>\n\n              <span class=\"info-label\">Status:</span>\n              <span class=\"info-value\">${this.data.status}</span>\n\n              <span class=\"info-label\">Origin:</span>\n              <span class=\"info-value\">${this.data.origin}</span>\n\n              <span class=\"info-label\">Record Count:</span>\n              <span class=\"info-value\">${this.data.count.toLocaleString()}</span>\n\n              <span class=\"info-label\">Storage Saved:</span>\n              <span class=\"info-value\">${formatBytes(this.storageSaved)}</span>\n            </div>\n\n            <h3>SQL Deletion Statement:</h3>\n            <div class=\"sql-container\">${this.sql}</div>\n\n            <button\n              class=\"copy-button ${this.copyButtonText.includes('Copied') ? 'copied' : ''}\"\n              @click=${this.handleCopy}\n            >\n              ${this.copyButtonText}\n            </button>\n          </div>\n\n          <div class=\"modal-footer\">\n            <button class=\"secondary-button\" @click=${this.handleClose}>Close</button>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}\n"],"names":["LitElement","html","css","property","state","customElement"],"mappings":";;;;;;;;;;;;AAYO,IAAM,iBAAN,cAA6BA,IAAW;AAAA,EAAxC,cAAA;AAAA,UAAA,GAAA,SAAA;AACuB,SAAA,OAA+B;AAC/B,SAAA,MAAM;AACN,SAAA,eAAe;AAClC,SAAQ,iBAAiB;AAAA,EAAA;AAAA,EAoD1B,cAAc;AACpB,SAAK,cAAc,IAAI,YAAY,eAAe;AAAA,MAChD,SAAS;AAAA,MACT,UAAU;AAAA,IAAA,CACX,CAAC;AAAA,EACJ;AAAA,EAEA,MAAc,aAAa;AACzB,QAAI;AACF,YAAM,gBAAgB,KAAK,GAAG;AAC9B,WAAK,iBAAiB;AACtB,iBAAW,MAAM;AACf,aAAK,iBAAiB;AAAA,MACxB,GAAG,GAAI;AAAA,IACT,SAAS,OAAO;AACd,WAAK,iBAAiB;AACtB,iBAAW,MAAM;AACf,aAAK,iBAAiB;AAAA,MACxB,GAAG,GAAI;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,QAAI,CAAC,KAAK,KAAM,QAAOC;AAEvB,WAAOA;AAAAA,0CAC+B,KAAK,WAAW;AAAA,4CACd,CAAC,MAAa,EAAE,iBAAiB;AAAA;AAAA,iCAE5C,KAAK,KAAK,QAAQ;AAAA,iDACF,KAAK,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAWxB,KAAK,KAAK,QAAQ;AAAA;AAAA;AAAA,yCAGlB,KAAK,KAAK,MAAM;AAAA;AAAA;AAAA,yCAGhB,KAAK,KAAK,MAAM;AAAA;AAAA;AAAA,yCAGhB,KAAK,KAAK,MAAM,eAAA,CAAgB;AAAA;AAAA;AAAA,yCAGhC,YAAY,KAAK,YAAY,CAAC;AAAA;AAAA;AAAA;AAAA,yCAI9B,KAAK,GAAG;AAAA;AAAA;AAAA,mCAGd,KAAK,eAAe,SAAS,QAAQ,IAAI,WAAW,EAAE;AAAA,uBAClE,KAAK,UAAU;AAAA;AAAA,gBAEtB,KAAK,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,sDAKmB,KAAK,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,EAKpE;AACF;AAlIa,eAMJ,SAAS;AAAA,EACd;AAAA,EACAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AA8CF;AArD4B,gBAAA;AAAA,EAA3BC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GADf,eACiB,WAAA,QAAA,CAAA;AACA,gBAAA;AAAA,EAA3BA,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAFf,eAEiB,WAAA,OAAA,CAAA;AACA,gBAAA;AAAA,EAA3BA,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAHf,eAGiB,WAAA,gBAAA,CAAA;AACX,gBAAA;AAAA,EAAhBC,EAAA;AAAM,GAJI,eAIM,WAAA,kBAAA,CAAA;AAJN,iBAAN,gBAAA;AAAA,EADNC,EAAc,kBAAkB;AAAA,GACpB,cAAA;"}